Author: Suhas N Bhargav <quic_sbhargav@quicinc.com>
Date:   Wed Mar 13 14:18:47 2024 +0530

    openvswitch: Add support for ovs_vport_attr UPCALL_STATS

    openvswitch packet flow needs to be analysed to create rules to push
    to ECM from openvswitch stack. This change is required, such that OVS
    netlink messaging is consistent with Kernel v6.6.

    Change-Id: Ifb72cc10bc495131fe72dd11bb3de71b1a843668
    Signed-off-by: Suhas N Bhargav <quic_sbhargav@quicinc.com>
---
--- a/datapath/linux/compat/include/linux/openvswitch.h
+++ b/datapath/linux/compat/include/linux/openvswitch.h
@@ -40,6 +40,7 @@
 #ifndef _LINUX_OPENVSWITCH_H
 #define _LINUX_OPENVSWITCH_H 1
 
+#include <linux/version.h>
 #include <linux/types.h>
 #include <linux/if_ether.h>
 
@@ -301,6 +302,9 @@ enum ovs_vport_attr {
 	OVS_VPORT_ATTR_PAD,
 	OVS_VPORT_ATTR_IFINDEX,
 	OVS_VPORT_ATTR_NETNSID,
+#if LINUX_VERSION_CODE > KERNEL_VERSION(6,6,0)
+	OVS_VPORT_ATTR_UPCALL_STATS,
+#endif
 	OVS_VPORT_ATTR_MASTER,
 	__OVS_VPORT_ATTR_MAX
 };
